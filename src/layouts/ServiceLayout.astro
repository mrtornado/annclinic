---
import BaseLayout from "./BaseLayout.astro";
import type { ServiceContent } from "../types/content";
import { siteConfig } from "../config/site";

export interface Props {
  service: ServiceContent;
  title?: string;
  description?: string;
}

const { service, title, description } = Astro.props;

const pageTitle = title || `${service.data.name} - Clinică Medicală București`;
const pageDescription = description || service.data.description;
const keywords = Array.isArray(service.data.keywords)
  ? service.data.keywords
  : [service.data.name, "clinică medicală", "București"];
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  keywords={keywords}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "MedicalBusiness",
    name: `Clinică Medicală - ${service.data.name}`,
    description: pageDescription,
    url: `${Astro.site}servicii/${service.slug}`,
    medicalSpecialty: service.data.name,
    availableService: {
      "@type": "MedicalTherapy",
      name: service.data.name,
      description: service.data.description,
    },
    address: {
      "@type": "PostalAddress",
      streetAddress: `${siteConfig.address.street} ${siteConfig.address.number}`,
      addressLocality: siteConfig.address.city,
      addressRegion: siteConfig.address.county,
      postalCode: siteConfig.address.postalCode,
      addressCountry: "RO",
    },
    telephone: siteConfig.contact.shortPhone,
    openingHours: `Mo-Fr ${siteConfig.schedule.weekdays}`,
  }}
>
  <main class="min-h-screen">
    <slot />
  </main>
</BaseLayout>
