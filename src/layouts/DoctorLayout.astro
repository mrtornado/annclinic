---
import BaseLayout from "./BaseLayout.astro";
import type { DoctorContent } from "../types/content";

export interface Props {
  doctor: DoctorContent;
}

const { doctor } = Astro.props;

// Generate structured data for doctor
const structuredData = {
  "@context": "https://schema.org",
  "@type": "Person",
  "@id": `https://annclinic.ro/medici/${doctor.slug}`,
  name: doctor.data.name,
  jobTitle: "Medic Specialist",
  worksFor: {
    "@type": "MedicalOrganization",
    name: "ANN Clinic",
    address: {
      "@type": "PostalAddress",
      streetAddress: "Strada Exemplu 123",
      addressLocality: "Bragadiru",
      addressRegion: "Ilfov",
      postalCode: "077025",
      addressCountry: "RO",
    },
  },
  knowsAbout: doctor.data.specialties,
  alumniOf: doctor.data.qualifications,
  knowsLanguage: doctor.data.languages,
  image: doctor.data.photo,
  description: doctor.data.bio,
};

const openGraph = {
  title: doctor.data.seoTitle,
  description: doctor.data.seoDescription,
  image: doctor.data.photo,
  imageAlt: `Fotografia Dr. ${doctor.data.name}`,
  type: "profile",
  url: `https://annclinic.ro/medici/${doctor.slug}`,
};
---

<BaseLayout
  title={doctor.data.seoTitle}
  description={doctor.data.seoDescription}
  keywords={[
    ...doctor.data.specialties,
    "medic",
    "BucureÈ™ti",
    "Bragadiru",
    "ANN Clinic",
  ]}
  canonicalUrl={`https://annclinic.ro/medici/${doctor.slug}`}
  structuredData={structuredData}
  openGraph={openGraph}
>
  <slot />
</BaseLayout>
