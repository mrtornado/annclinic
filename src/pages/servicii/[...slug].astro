---
import { getCollection } from "astro:content";
import ServiceLayout from "../../layouts/ServiceLayout.astro";
import ServiceHero from "../../components/services/ServiceHero.tsx";
import ServiceDetails from "../../components/services/ServiceDetails.tsx";
import DoctorProfiles from "../../components/services/DoctorProfiles.tsx";
import BookingWidget from "../../components/services/BookingWidget.tsx";

export async function getStaticPaths() {
  const services = await getCollection("services");
  return services.map((service) => ({
    params: { slug: service.slug },
    props: { service },
  }));
}

const { service } = Astro.props;
---

<ServiceLayout service={service}>
  <!-- Service Hero Section -->
  <ServiceHero service={service} client:load />

  <!-- Service Details Section -->
  <ServiceDetails service={service} client:load />

  <!-- Doctor Profiles Section -->
  <DoctorProfiles service={service} client:load />

  <!-- Booking Widget Section -->
  <BookingWidget service={service} client:load />
</ServiceLayout>
