---
import BaseLayout from "../layouts/BaseLayout.astro";
import HeroSection from "../components/home/HeroSection.tsx";
import WelcomeSection from "../components/home/WelcomeSection.tsx";
import ServicesSection from "../components/home/ServicesSection.tsx";
import ComingSoonSection from "../components/home/ComingSoonSection.tsx";
import ArticlesSection from "../components/home/ArticlesSection.tsx";
import { getCollection } from "astro:content";
import { siteConfig } from "../config/site";
import { Image } from "astro:assets";
import bgImage from "../assets/images/bg-image.jpg";
import welcomeImage from "../assets/images/welcome.webp";

// Import logos
import annLogo from "../assets/images/altfel-de-logo.png";
import synevoLogo from "../assets/images/synevo.png";

// Get services and articles data for React components
const services = await getCollection("services");
const articles = await getCollection("articles");

// For output: server, we use direct .src - no getImage() processing

// Import service images for homepage - correctly mapped
import medicinaFamilieImg from "../assets/images/servicii/fam-scaled.webp";
import pediatrieImg from "../assets/images/servicii/pediatrrie.webp";
import medicinaInternaImg from "../assets/images/servicii/medicina-interna.webp";
import chirurgieGeneralaImg from "../assets/images/servicii/chirurgie.webp";
import chirurgiePediatricaImg from "../assets/images/servicii/CHIRURGIE-PEDIATRICA.webp";
import obstetricaGinecologieImg from "../assets/images/servicii/ginecologie.webp";
import ortopedieTraumatologieImg from "../assets/images/servicii/orto.webp";
import nefrologieImg from "../assets/images/servicii/nefrologie.webp";
import analizeLaboratorImg from "../assets/images/servicii/medicina-muncii.webp";
import dermatovenerologieImg from "../assets/images/servicii/dermatologie.webp";
import medicinaMunciiImg from "../assets/images/servicii/medicina-muncii.webp";
// Keep existing for other services
import cardiologieImg from "../assets/images/servicii/medicina-interna.webp";
import orlImg from "../assets/images/servicii/nefrologie.webp";
import esteticaImg from "../assets/images/servicii/chirurgie.webp";
import neurologieImg from "../assets/images/servicii/medicina-muncii.webp";
import oftalmologieImg from "../assets/images/servicii/orto.webp";
import urologieImg from "../assets/images/servicii/CHIRURGIE-PEDIATRICA.webp";

// Import coming soon service images
import reumatologieImgSoon from "../assets/images/servicii/soon/reumatologie.webp";
import pneumologieImgSoon from "../assets/images/servicii/soon/pneumologie.webp";
import endocrinologieImgSoon from "../assets/images/servicii/soon/endocrinologie.webp";
import psihiatrieImgSoon from "../assets/images/servicii/soon/psihiatrie.webp";
import recuperareMedicalaImgSoon from "../assets/images/servicii/soon/RECUPERARE-MEDICALA.webp";
import alergologieImgSoon from "../assets/images/servicii/soon/alergologie.webp";
import ortopediePediatricaImgSoon from "../assets/images/servicii/soon/ORTOPEDIE-PEDIATRICA.webp";
// Additional coming soon services (existing services moved to coming soon)
import cardiologieImgSoon from "../assets/images/servicii/soon/cardiologie.webp";
import orlImgSoon from "../assets/images/servicii/soon/ORL.webp";
import oftalmologieImgSoon from "../assets/images/servicii/soon/oftamologie.webp";
import urologieImgSoon from "../assets/images/servicii/soon/UROLOGIE.webp";

// Create service images mapping directly from imported assets (for output: server)
const homeServiceImages = {
  "medicina-familie": {
    src: medicinaFamilieImg.src,
    width: 400,
    height: 300,
  },
  pediatrie: {
    src: pediatrieImg.src,
    width: 400,
    height: 300,
  },
  "medicina-interna": {
    src: medicinaInternaImg.src,
    width: 400,
    height: 300,
  },
  "chirurgie-generala": {
    src: chirurgieGeneralaImg.src,
    width: 400,
    height: 300,
  },
  "chirurgie-pediatrica": {
    src: chirurgiePediatricaImg.src,
    width: 400,
    height: 300,
  },
  "obstetrica-ginecologie": {
    src: obstetricaGinecologieImg.src,
    width: 400,
    height: 300,
  },
  "ortopedie-traumatologie": {
    src: ortopedieTraumatologieImg.src,
    width: 400,
    height: 300,
  },
  nefrologie: {
    src: nefrologieImg.src,
    width: 400,
    height: 300,
  },
  "analize-laborator": {
    src: analizeLaboratorImg.src,
    width: 400,
    height: 300,
  },
  dermatovenerologie: {
    src: dermatovenerologieImg.src,
    width: 400,
    height: 300,
  },
  "medicina-muncii": {
    src: medicinaMunciiImg.src,
    width: 400,
    height: 300,
  },
  "estetica-faciala": {
    src: esteticaImg.src,
    width: 400,
    height: 300,
  },
  neurologie: {
    src: neurologieImg.src,
    width: 400,
    height: 300,
  },
  // Coming soon services
  reumatologie: {
    src: reumatologieImgSoon.src,
    width: 400,
    height: 300,
  },
  pneumologie: {
    src: pneumologieImgSoon.src,
    width: 400,
    height: 300,
  },
  endocrinologie: {
    src: endocrinologieImgSoon.src,
    width: 400,
    height: 300,
  },
  psihiatrie: {
    src: psihiatrieImgSoon.src,
    width: 400,
    height: 300,
  },
  "recuperare-medicala": {
    src: recuperareMedicalaImgSoon.src,
    width: 400,
    height: 300,
  },
  alergologie: {
    src: alergologieImgSoon.src,
    width: 400,
    height: 300,
  },
  "ortopedie-pediatrica": {
    src: ortopediePediatricaImgSoon.src,
    width: 400,
    height: 300,
  },
  "diabet-metabolism": {
    src: endocrinologieImgSoon.src,
    width: 400,
    height: 300,
  },
  // Coming soon services that already exist but moved to coming soon
  cardiologie: {
    src: cardiologieImgSoon.src,
    width: 400,
    height: 300,
  },
  orl: {
    src: orlImgSoon.src,
    width: 400,
    height: 300,
  },
  oftalmologie: {
    src: oftalmologieImgSoon.src,
    width: 400,
    height: 300,
  },
  urologie: {
    src: urologieImgSoon.src,
    width: 400,
    height: 300,
  },
  default: {
    src: medicinaFamilieImg.src,
    width: 400,
    height: 300,
  },
};
---

<BaseLayout
  title={siteConfig.title}
  description={siteConfig.description}
  keywords={[
    "clinică medicală București",
    "consultații medicale",
    "cardiolog București",
    "dermatolog București",
    "ginecolog București",
  ]}
>
  <!-- Hero Section - React Component -->
  <HeroSection
    backgroundImage={bgImage.src}
    annLogo={annLogo.src}
    synevoLogo={synevoLogo.src}
    client:load
  />

  <!-- Welcome Section - React Component -->
  <WelcomeSection welcomeImage={welcomeImage.src} client:load />

  <!-- Services Section - React Component -->
  <ServicesSection
    services={services}
    serviceImages={homeServiceImages}
    backgroundImage={welcomeImage.src}
    client:load
  />

  <!-- Coming Soon Section - React Component -->
  <ComingSoonSection
    services={services}
    serviceImages={homeServiceImages}
    backgroundImage={welcomeImage.src}
    client:load
  />

  <!-- Articles Section - React Component -->
  <ArticlesSection articles={articles} client:load />
</BaseLayout>
