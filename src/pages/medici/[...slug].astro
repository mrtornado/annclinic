---
import { getCollection } from "astro:content";
import DoctorLayout from "../../layouts/DoctorLayout.astro";
import DoctorHero from "../../components/doctors/DoctorHero";
import DoctorDetails from "../../components/doctors/DoctorDetails";

export async function getStaticPaths() {
  const doctors = await getCollection("doctors");

  return doctors.map((doctor) => ({
    params: { slug: doctor.slug },
    props: { doctor },
  }));
}

const { doctor } = Astro.props;
---

<DoctorLayout doctor={doctor}>
  <DoctorHero doctor={doctor} client:load />
  <DoctorDetails doctor={doctor} client:load />
</DoctorLayout>
